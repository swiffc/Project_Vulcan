@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 255, 255, 255;
  --background-start-rgb: 30, 27, 75;
  --background-end-rgb: 17, 24, 39;

  /* Trading Module Colors */
  --trading-bullish: #3fb950;
  --trading-bearish: #f85149;
  --trading-neutral: #6e7681;
  --trading-warning: #d29922;
  --trading-info: #58a6ff;

  /* Session Colors */
  --session-asian: #a371f7;
  --session-london: #58a6ff;
  --session-newyork: #3fb950;
  --session-gap: #6e7681;

  /* EMA Colors (BTMM) */
  --ema-mustard: #ffd700;
  --ema-ketchup: #ff4444;
  --ema-water: #4a9eff;
  --ema-mayo: #e0e0e0;
  --ema-blueberry: #1e3a8a;

  /* Level Colors */
  --level-1: #3fb950;
  --level-2: #58a6ff;
  --level-3: #a371f7;

  /* Vulcan Theme */
  --vulcan-accent: #6366f1;
  --vulcan-darker: #0d1117;
  --vulcan-success: #10b981;
  --vulcan-warning: #f59e0b;
  --vulcan-error: #ef4444;
}

html, body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
    135deg,
    rgb(30, 27, 75) 0%,
    rgb(49, 46, 129) 25%,
    rgb(30, 58, 138) 50%,
    rgb(17, 24, 39) 100%
  );
  min-height: 100vh;
  overflow-y: auto;
}

/* Glassmorphism utilities */
.glass {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.15) 0%,
    rgba(255, 255, 255, 0.08) 100%
  );
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 32px 0 rgba(99, 102, 241, 0.15);
}

.glass-dark {
  background: linear-gradient(
    135deg,
    rgba(30, 27, 75, 0.6) 0%,
    rgba(49, 46, 129, 0.4) 100%
  );
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Enhanced glassmorphism variants - inspired by glasscn-ui */
.glass-accent {
  background: linear-gradient(
    135deg,
    rgba(99, 102, 241, 0.15) 0%,
    rgba(139, 92, 246, 0.1) 50%,
    rgba(236, 72, 153, 0.05) 100%
  );
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(99, 102, 241, 0.3);
  box-shadow: 0 8px 32px rgba(99, 102, 241, 0.2),
    inset 0 0 32px rgba(255, 255, 255, 0.05);
}

.glass-success {
  background: linear-gradient(
    135deg,
    rgba(16, 185, 129, 0.15) 0%,
    rgba(52, 211, 153, 0.08) 100%
  );
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(16, 185, 129, 0.3);
  box-shadow: 0 4px 24px rgba(16, 185, 129, 0.15);
}

.glass-warning {
  background: linear-gradient(
    135deg,
    rgba(245, 158, 11, 0.15) 0%,
    rgba(251, 191, 36, 0.08) 100%
  );
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(245, 158, 11, 0.3);
  box-shadow: 0 4px 24px rgba(245, 158, 11, 0.15);
}

.glass-error {
  background: linear-gradient(
    135deg,
    rgba(239, 68, 68, 0.15) 0%,
    rgba(248, 113, 113, 0.08) 100%
  );
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(239, 68, 68, 0.3);
  box-shadow: 0 4px 24px rgba(239, 68, 68, 0.15);
}

/* Glow effects */
.glow-indigo {
  box-shadow: 0 0 20px rgba(99, 102, 241, 0.4), 0 0 40px rgba(99, 102, 241, 0.2),
    0 0 60px rgba(99, 102, 241, 0.1);
}

.glow-emerald {
  box-shadow: 0 0 20px rgba(16, 185, 129, 0.4), 0 0 40px rgba(16, 185, 129, 0.2);
}

/* Animated gradient border */
.gradient-border {
  position: relative;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.1) 0%,
    rgba(255, 255, 255, 0.05) 100%
  );
  backdrop-filter: blur(16px);
}

.gradient-border::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(
    135deg,
    rgba(99, 102, 241, 0.5),
    rgba(139, 92, 246, 0.5),
    rgba(236, 72, 153, 0.5),
    rgba(99, 102, 241, 0.5)
  );
  background-size: 300% 300%;
  animation: gradient-rotate 8s ease infinite;
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
}

@keyframes gradient-rotate {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* Hover lift effect */
.hover-lift {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 40px rgba(99, 102, 241, 0.25);
}

/* Shimmer loading effect */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.shimmer {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.1) 50%,
    rgba(255, 255, 255, 0) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Pulse ring animation */
@keyframes pulse-ring {
  0% {
    transform: scale(0.8);
    opacity: 1;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

.pulse-ring {
  position: relative;
}

.pulse-ring::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 50%;
  border: 2px solid currentColor;
  animation: pulse-ring 1.5s ease-out infinite;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb {
  background: rgba(99, 102, 241, 0.4);
  border-radius: 4px;
  border: 2px solid rgba(255, 255, 255, 0.05);
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Markdown content styling */
.markdown-content h1,
.markdown-content h2,
.markdown-content h3 {
  @apply font-bold mt-4 mb-2;
}

.markdown-content h1 {
  @apply text-xl;
}

.markdown-content h2 {
  @apply text-lg;
}

.markdown-content p {
  @apply mb-2;
}

.markdown-content ul,
.markdown-content ol {
  @apply ml-4 mb-2;
}

.markdown-content li {
  @apply mb-1;
}

.markdown-content code {
  @apply bg-black/30 px-1.5 py-0.5 rounded text-sm font-mono;
}

.markdown-content pre {
  @apply bg-black/40 p-3 rounded-lg overflow-x-auto my-2;
}

.markdown-content pre code {
  @apply bg-transparent p-0;
}

.markdown-content table {
  @apply w-full border-collapse my-2;
}

.markdown-content th,
.markdown-content td {
  @apply border border-white/10 px-3 py-2 text-left;
}

.markdown-content th {
  @apply bg-white/5 font-semibold;
}

/* Streaming cursor */
@keyframes blink {
  0%,
  50% {
    opacity: 1;
  }
  51%,
  100% {
    opacity: 0;
  }
}

.streaming-cursor::after {
  content: "â–‹";
  animation: blink 1s infinite;
  color: #6366f1;
}

/* Trading Module Styles */
.trading-bullish {
  color: var(--trading-bullish);
}
.trading-bearish {
  color: var(--trading-bearish);
}
.trading-neutral {
  color: var(--trading-neutral);
}

.bg-trading-bullish {
  background-color: var(--trading-bullish);
}
.bg-trading-bearish {
  background-color: var(--trading-bearish);
}
.bg-trading-neutral {
  background-color: var(--trading-neutral);
}

.border-trading-bullish {
  border-color: var(--trading-bullish);
}
.border-trading-bearish {
  border-color: var(--trading-bearish);
}

/* Trading Layout */
.trading-layout {
  display: grid;
  grid-template-rows: auto 1fr;
  grid-template-columns: auto 1fr auto;
  height: 100vh;
  overflow: hidden;
}

.trading-header {
  grid-column: 1 / -1;
}

.trading-left-panel {
  grid-row: 2;
  height: 100%;
  overflow: hidden;
}

.trading-main {
  grid-row: 2;
  overflow-y: auto;
}

.trading-right-panel {
  grid-row: 2;
  height: 100%;
  overflow: hidden;
}

/* Trading Card Variants */
.trading-card {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.08) 0%,
    rgba(255, 255, 255, 0.04) 100%
  );
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
}

.trading-card-bullish {
  border-left: 3px solid var(--trading-bullish);
  background: linear-gradient(
    135deg,
    rgba(63, 185, 80, 0.1) 0%,
    rgba(63, 185, 80, 0.02) 100%
  );
}

.trading-card-bearish {
  border-left: 3px solid var(--trading-bearish);
  background: linear-gradient(
    135deg,
    rgba(248, 81, 73, 0.1) 0%,
    rgba(248, 81, 73, 0.02) 100%
  );
}

/* Kill Zone Pulse Animation */
@keyframes killzone-pulse {
  0%,
  100% {
    opacity: 1;
    box-shadow: 0 0 0 0 rgba(248, 81, 73, 0.4);
  }
  50% {
    opacity: 0.8;
    box-shadow: 0 0 0 8px rgba(248, 81, 73, 0);
  }
}

.killzone-active {
  animation: killzone-pulse 2s ease-in-out infinite;
}

/* Session Progress Bar */
.session-progress {
  height: 3px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
  overflow: hidden;
}

.session-progress-bar {
  height: 100%;
  transition: width 1s linear;
}

/* TradingView-style Chart Container */
.chart-container {
  background: #131722;
  border-radius: 8px;
  overflow: hidden;
}

/* Trading Form Inputs */
.trading-input {
  @apply w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30;
  @apply focus:outline-none focus:border-vulcan-accent focus:ring-1 focus:ring-vulcan-accent/50;
  @apply transition-all duration-200;
}

.trading-select {
  @apply trading-input appearance-none cursor-pointer;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.5rem center;
  background-repeat: no-repeat;
  background-size: 1.5em 1.5em;
  padding-right: 2.5rem;
}

/* Trading Button Variants */
.trading-btn-buy {
  @apply px-4 py-2 rounded-lg font-medium transition-all;
  background: linear-gradient(135deg, var(--trading-bullish), #2ea043);
  box-shadow: 0 4px 12px rgba(63, 185, 80, 0.3);
}

.trading-btn-buy:hover {
  box-shadow: 0 6px 16px rgba(63, 185, 80, 0.4);
  transform: translateY(-1px);
}

.trading-btn-sell {
  @apply px-4 py-2 rounded-lg font-medium transition-all;
  background: linear-gradient(135deg, var(--trading-bearish), #da3633);
  box-shadow: 0 4px 12px rgba(248, 81, 73, 0.3);
}

.trading-btn-sell:hover {
  box-shadow: 0 6px 16px rgba(248, 81, 73, 0.4);
  transform: translateY(-1px);
}

/* Cycle Day Indicators */
.cycle-day-1 {
  --cycle-color: #fbbf24;
  border-color: var(--cycle-color);
  background: linear-gradient(
    135deg,
    rgba(251, 191, 36, 0.15) 0%,
    transparent 100%
  );
}

.cycle-day-2 {
  --cycle-color: #f97316;
  border-color: var(--cycle-color);
  background: linear-gradient(
    135deg,
    rgba(249, 115, 22, 0.15) 0%,
    transparent 100%
  );
}

.cycle-day-3 {
  --cycle-color: #22c55e;
  border-color: var(--cycle-color);
  background: linear-gradient(
    135deg,
    rgba(34, 197, 94, 0.15) 0%,
    transparent 100%
  );
}

/* Light Mode Overrides */
.light-mode {
  --foreground-rgb: 17, 24, 39;
  --background-start-rgb: 249, 250, 251;
  --background-end-rgb: 243, 244, 246;
}

.light-mode,
.light-mode body {
  color: rgb(17, 24, 39);
  background: linear-gradient(
    135deg,
    rgb(249, 250, 251) 0%,
    rgb(243, 244, 246) 50%,
    rgb(229, 231, 235) 100%
  );
}

.light-mode .glass {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.8) 0%,
    rgba(255, 255, 255, 0.6) 100%
  );
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
}

.light-mode .glass-dark {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.9) 0%,
    rgba(249, 250, 251, 0.8) 100%
  );
  border: 1px solid rgba(0, 0, 0, 0.08);
}

.light-mode .trading-card {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.9) 0%,
    rgba(255, 255, 255, 0.7) 100%
  );
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.light-mode ::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
}

.light-mode ::-webkit-scrollbar-thumb {
  background: rgba(99, 102, 241, 0.3);
  border: 2px solid rgba(0, 0, 0, 0.05);
}

.light-mode .markdown-content code {
  @apply bg-gray-100 text-gray-800;
}

.light-mode .markdown-content pre {
  @apply bg-gray-100;
}

.light-mode .markdown-content th {
  @apply bg-gray-100;
}

.light-mode .markdown-content th,
.light-mode .markdown-content td {
  @apply border-gray-200;
}

/* Focus visible for accessibility */
:focus-visible {
  outline: 2px solid var(--vulcan-accent);
  outline-offset: 2px;
}

/* Skip link for accessibility */
.skip-link {
  position: absolute;
  top: -100%;
  left: 0;
  z-index: 9999;
  padding: 1rem;
  background: var(--vulcan-accent);
  color: white;
  text-decoration: none;
  font-weight: 600;
}

.skip-link:focus {
  top: 0;
}
